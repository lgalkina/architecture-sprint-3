@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

package ru.yandex.practicum.smarthome.service {
    interface DeviceSystemService {
        +DeviceSystemDto getDeviceSystem(Long id)
        +DeviceSystemDto updateDeviceSystem(Long id, DeviceSystemDto DeviceSystemDto)
        +void turnOn(Long id)
        +void turnOff(Long id)
        +void setTargetTemperature(Long id, double temperature)
        +Double getCurrentTemperature(Long id)
    }
}

package ru.yandex.practicum.smarthome.dto {
    class DeviceSystemDto {
        +Long id
        +String name
        +double targetTemperature
        +double currentTemperature
        +boolean isOn
    }
}

package ru.yandex.practicum.smarthome.entity {
    class DeviceSystem {
        +Long id
        +String name
        +double targetTemperature
        +double currentTemperature
        +boolean isOn
    }
}

package ru.yandex.practicum.smarthome.controller {
    class DeviceController {
        -DeviceSystemService DeviceSystemService
        -DeviceStorageManager DeviceStorageManager
        +DeviceController(DeviceSystemService DeviceSystemService, DeviceStorageManager DeviceStorageManager)
        +DeviceSystemDto getDeviceSystem(Long id)
        +DeviceSystemDto updateDeviceSystem(Long id, DeviceSystemDto DeviceSystemDto)
        +void turnOn(Long id)
        +void turnOff(Long id)
        +void setTargetTemperature(Long id, double temperature)
        +Double getCurrentTemperature(Long id)
    }
}

package ru.yandex.practicum.smarthome.storage {
    class DeviceStorageManager {
        -DeviceSystemRepository DeviceSystemRepository
        +DeviceStorageManager(DeviceSystemRepository DeviceSystemRepository)
        +DeviceSystem save(DeviceSystem DeviceSystem)
        +DeviceSystem findById(Long id)
        +void deleteById(Long id)
    }
}

package ru.yandex.practicum.smarthome.repository {
    interface DeviceSystemRepository {
        +DeviceSystem save(DeviceSystem DeviceSystem)
        +DeviceSystem findById(Long id)
        +void deleteById(Long id)
    }
}

DeviceController --> DeviceSystemService : uses
DeviceController --> DeviceStorageManager : uses
DeviceStorageManager --> DeviceSystemRepository : uses
DeviceSystemService --> DeviceSystemDto : returns
DeviceSystemService --> DeviceSystem : uses

@enduml